<!-- Auto-generated by x/build/update-readmes.go -->

[![Go Reference](https://pkg.go.dev/badge/golang.org/x/build/cloudfns/sendwikidiff.svg)](https://pkg.go.dev/golang.org/x/build/cloudfns/sendwikidiff)

# golang.org/x/build/cloudfns/sendwikidiff

Package sendwikidiff implements a Google Cloud background function that reacts to a pubsub message containing a GitHub webhook change payload.
<!-- End of auto-generated section -->

## Deploying

To deploy, run the following command sequence in this directory:

```sh
DEPLOYDIR="$(mktemp -d)" && cp -R . ../../go.{mod,sum} "$DEPLOYDIR" && \
(cd "$DEPLOYDIR" && \
go mod edit -module golang.org/x/build/cloudfns/sendwikidiff && go mod tidy && go test ./... && \
gcloud functions deploy HandleWikiChangePubSub \
  --project=symbolic-datum-552 \
  --runtime go120 \
  --trigger-topic github.webhooks.golang.go.wiki \
  --memory 1024 \
  --set-env-vars="SENDGRID_API_KEY=$(gcloud --project=symbolic-datum-552 secrets versions access latest --secret=sendgrid-sendonly-api-key)") && \
rm -rf "$DEPLOYDIR"
```
